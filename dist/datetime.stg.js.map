{"version":3,"sources":["../src/datetime.js"],"names":[],"mappings":"sLAIA,CAAC,iBAAwC,CAkCrC,eAAiC,CAC7B,KAAK,QAAL,CAAyB,CADI,CAE7B,KAAK,OAAL,CAAyB,EAAQ,CAAR,CAFI,CAG7B,KAAK,iBAAL,CAAyB,CAHI,CAI7B,KAAK,MAAL,GAJ6B,CAM7B,KAAK,gBAAL,CAAyB,KAAK,gBAAL,CAAsB,IAAtB,CAA2B,IAA3B,CANI,CAO7B,KAAK,cAAL,CAAyB,KAAK,cAAL,CAAoB,IAApB,CAAyB,IAAzB,CAPI,CAQ7B,KAAK,iBAAL,CAAyB,KAAK,iBAAL,CAAuB,IAAvB,CAA4B,IAA5B,CARI,CAU7B,KAAK,KAAL,EAV6B,CAa7B,KAAK,UAAL,CAAgB,OAAO,MAAP,IAAkB,CAAlB,CAA4B,CAA5B,CAAhB,CACH,CA7CD,GAkBM,SAlBN,CAoBM,EAAa,UApBnB,CAqBM,EAAa,CACT,SAAU,GADD,CAET,OAAU,UAAU,QAFX,CAGT,OAAU,qBAHD,CAIT,QAAU,GAJD,CAKT,QAAU,GALD,CAMT,QAAU,GAND,CAOT,QAAU,GAPD,CArBnB,CA+CA,EAAO,SAAP,CAAmB,CAEf,MAAO,UAAU,CAEb,KAAK,OAAL,CAAa,iBAAb,CAA+B,CAA/B,CAAkC,CAAlC,CAFa,CAKb,KAAK,OAAL,CAAa,gBAAb,CAA8B,SAA9B,CAAyC,KAAK,gBAA9C,CALa,CAMb,KAAK,OAAL,CAAa,gBAAb,CAA8B,SAA9B,CAAyC,KAAK,cAA9C,CANa,CAOb,KAAK,OAAL,CAAa,gBAAb,CAA8B,YAA9B,CAA4C,KAAK,iBAAjD,CAEH,CAXc,CAaf,SAAU,UAAU,CAChB,KAAK,MAAL,CAAqB,KAAK,qBAAL,CAA2B,KAAK,QAAhC,CAA0C,KAAK,OAAL,CAAa,MAAvD,CAA+D,KAAK,OAAL,CAAa,MAA5E,CADL,CAEhB,KAAK,OAAL,CAAa,KAAb,CAAqB,KAAK,MAAL,CAAY,GAAZ,CAAgB,kBAAK,GAAE,MAAP,CAAhB,EAA+B,IAA/B,CAAoC,EAApC,CAFL,CAIhB,GAAM,GAAQ,KAAK,MAAL,CAAY,KAAK,iBAAjB,CAAd,CACG,CALa,EAMZ,KAAK,OAAL,CAAa,iBAAb,CAA+B,EAAM,MAArC,CAA6C,EAAM,MAAN,CAAe,EAAM,MAAlE,CAEP,CArBc,CAuBf,iBAAkB,WAAW,CAEzB,EAAE,cAAF,EAFyB,CAGzB,EAAE,eAAF,EAHyB,CAKzB,KAAK,iBAAL,EALyB,CAOzB,KAAK,iBAAL,CAAyB,KAAK,mCAAL,CAAyC,EAAE,MAAF,CAAS,cAAlD,CAAkE,KAAK,MAAvE,CAPA,CAQzB,GAAM,GAAmB,KAAK,MAAL,CAAY,KAAK,iBAAjB,CAAzB,CAEA,EAAE,MAAF,CAAS,KAAT,EAVyB,CAYrB,CAZqB,EAczB,EAAE,MAAF,CAAS,iBAAT,CAA2B,EAAM,MAAjC,CAAyC,EAAM,MAAN,CAAe,EAAM,MAA9D,CACH,CAtCc,CAwCf,kBAAmB,UAAU,CACrB,KAAK,MAAL,CAAY,MADS,GAErB,KAAK,QAAL,CAAgB,GAAI,KAFC,CAGrB,KAAK,QAAL,EAHqB,CAM5B,CA9Cc,CAgDf,eAAgB,WAAW,CAEvB,KAAK,iBAAL,EAFuB,CAIvB,GAAM,GAAQ,KAAK,MAAL,CAAY,KAAK,iBAAjB,CAAd,CAEA,OAAO,EAAE,KAAT,EAEI,IA/FU,GA+FV,CACI,EAAE,cAAF,EADJ,CAEI,KAAK,iBAAL,CAAyB,KAAK,wBAAL,CAA8B,KAAK,MAAnC,CAA2C,KAAK,iBAAhD,CAAmE,CAAC,CAApE,CAAuE,WAAW,CACvG,MAAmB,WAAZ,KAAE,KACZ,CAFwB,CAF7B,CAKI,KAAK,QAAL,EALJ,CAMI,MAEJ,IAtGU,GAsGV,CACI,EAAE,cAAF,EADJ,CAEI,KAAK,iBAAL,CAAyB,KAAK,wBAAL,CAA8B,KAAK,MAAnC,CAA2C,KAAK,iBAAhD,CAAmE,CAAnE,CAAsE,WAAW,CACtG,MAAmB,WAAZ,KAAE,KACZ,CAFwB,CAF7B,CAKI,KAAK,QAAL,EALJ,CAMI,MAEJ,IAhHU,GAgHV,CACI,EAAE,cAAF,EADJ,CAEI,KAAK,QAAL,CAAc,CAAd,CAAiB,CAAjB,CAFJ,CAGI,MAEJ,IAtHU,GAsHV,CACI,EAAE,cAAF,EADJ,CAEI,KAAK,QAAL,CAAc,CAAC,CAAf,CAAkB,CAAlB,CAFJ,CAGI,MAEJ,IA9HU,GA8HV,CACI,EAAE,cAAF,EADJ,CAEI,KAAK,QAAL,CAAgB,GAAI,KAAJ,CAAS,GAAT,CAFpB,CAGI,KAAK,QAAL,EAHJ,CAII,MAEJ,IA7HU,GA6HV,CACA,IA7HU,GA6HV,CACQ,EAAE,OADV,EAEQ,EAAE,cAAF,EAFR,CAII,MAEJ,QAGI,GAAG,CAAC,SAAS,EAAE,GAAX,CAAJ,CAAqB,OAErB,GAAmB,MAAhB,KAAM,KAAT,CAA2B,OAE3B,GAAmB,SAAhB,KAAM,KAAT,CAA8B,OAE9B,KAAK,OAAL,CAAa,CAAC,EAAE,GAAhB,CAAqB,CAArB,CATJ,CAYI,EAAE,cAAF,EAZJ,CAzCJ,CA2DH,CAjHc,CAmHf,kBAAmB,WAAW,CAC1B,EAAE,cAAF,EAD0B,CAE1B,EAAE,eAAF,EAF0B,CAI1B,KAAK,iBAAL,EAJ0B,CAM1B,GAAM,GAAQ,KAAK,MAAL,CAAY,KAAK,iBAAjB,CAAd,CACM,EAAY,KAAK,IAAL,CAAU,EAAE,UAAZ,CADlB,CAGA,KAAK,QAAL,CAAc,CAAd,CAAyB,CAAzB,CAT0B,CAU1B,KAAK,QAAL,EAEH,CA/Hc,CAiIf,oCAAqC,aAA+B,CAEhE,GAAI,GAAQ,CAAZ,CACI,EAAI,EAAO,SAAP,CAAkB,kBAAyB,WAAhB,KAAM,KAAf,CAAlB,CADR,CAGA,IAAI,CAAJ,CAAO,EAAI,EAAO,MAAlB,GAE2B,WAApB,KAAO,CAAP,EAAU,KAFjB,GAGQ,EAAQ,CAHhB,IAMO,EAAO,CAAP,EAAU,MAAV,EAAoB,CAN3B,GAA2B,GAA3B,EAYA,MAAO,EACV,CAnJc,CAqJf,yBAA0B,iBAAiD,CAEvE,EAAY,KAAK,IAAL,CAAU,CAAV,CAF2D,CAGvE,GAAI,GAAW,CAAf,CAHuE,GAIjD,CAJiD,CAMvE,IAAI,GAAI,GAAI,EAAe,CAA3B,CAA4C,CAAL,KAAU,EAAI,EAAO,MAA5D,CAAqE,GAAK,CAA1E,CACI,GAAI,EAAO,EAAO,CAAP,CAAP,CAAJ,CAAwB,CACpB,EAAW,CADS,CAEpB,KACH,CAGL,MAAO,EAEV,CApKc,CAsKf,wBAAyB,aAAyB,CAE9C,GAAM,GAAK,EAAK,WAAL,EAAX,CACM,EAAK,EAAK,QAAL,EADX,CAGA,OAAO,CAAP,EACI,IAAK,UAAL,CACI,MAAO,KAAP,CACJ,IAAK,OAAL,CACI,MAAO,GAAP,CACJ,IAAK,MAAL,CACI,MAAQ,IAAI,KAAJ,CAAS,CAAT,CAAa,EAAI,CAAjB,CAAoB,CAApB,CAAD,CAAyB,OAAzB,EAAP,CACJ,IAAK,OAAL,CACI,MAAO,GAAP,CACJ,IAAK,SAAL,CACI,MAAO,GAAP,CACJ,IAAK,SAAL,CACI,MAAO,GAAP,CACJ,QAbJ,CAmBH,CA9Lc,CAgMf,oBAAqB,eAA2B,CAE5C,GAAI,GAAO,EAAM,MAAN,EAAgB,EAAM,KAAjC,CAImB,OAAhB,KAAM,KANmC,MAW5C,GAAM,GAAW,EAAP,GAAY,CAAtB,CAMI,EAHQ,CAAC,KAAD,CAAY,KAAZ,CAAsB,EAAI,GAA1B,CAA+B,EAAI,EAAnC,CAGH,CAAI,MAAJ,CAAW,aAAc,CAC9B,MAAO,IAAK,CAAL,CAAW,KAAK,GAAL,CAAS,CAAT,CAAY,CAAZ,CAAX,CAA4B,CACtC,CAFQ,CAEN,CAFM,CANT,CAYmB,OAAhB,KAAM,KAvBmC,GAwBxC,EAAK,EAAK,EAAK,CAAV,CAAc,EAAO,CAxBc,EA6BzB,MAAhB,KAAM,KAAN,EAAiC,CAAP,IA7Be,GA8BxC,EAAK,CA9BmC,EAiC5C,GAAM,GAAS,SAAW,EAAM,KAAhC,CAEI,EAAY,GAAI,KAAJ,CAAS,KAAK,QAAd,CAFhB,CAIA,EAAU,CAAV,EAAkB,CAAlB,CArC4C,CAuC5C,GAAM,GAAU,KAAK,SAAL,CAAe,CAAf,CAAhB,CAEA,GAAG,CAAH,CACI,MAAO,EAAP,CAGA,GAAI,KAAJ,CACM,EAAsB,GAAI,KAAJ,CAAS,KAAK,OAAL,CAAa,OAAtB,CAAF,CAAmC,SAAW,EAAM,KAApD,GAD1B,CAEM,EAAsB,GAAI,KAAJ,CAAS,KAAK,OAAL,CAAa,OAAtB,CAAF,CAAmC,SAAW,EAAM,KAApD,GAF1B,CAGM,EAAsB,GAAI,KAAJ,CAAS,KAAK,OAAL,CAAa,OAAtB,CAAF,CAAmC,SAAW,EAAM,KAApD,GAH1B,CAIM,EAAsB,GAAI,KAAJ,CAAS,KAAK,OAAL,CAAa,OAAtB,CAAF,CAAmC,SAAW,EAAM,KAApD,GAJ1B,CAKM,EAAoB,EAAU,SAAW,EAAM,KAA3B,GAL1B,CA7CwC,QAoDrB,UAAhB,KAAM,KAAN,EAA8C,OAAhB,KAAM,KAApC,EAAyE,MAAhB,KAAM,KApD1B,IAqDpC,EAAe,EAAE,EAAoB,CAAtB,GAAoC,EAAE,EAAY,CAAd,CArDf,GAwDrB,OAAhB,KAAM,KAAN,EAA2C,SAAhB,KAAM,KAAjC,EAAwE,SAAhB,KAAM,KAxDzB,IA0DjC,EAAoB,CA1Da,CA2DhC,EAAe,EAAG,CAAC,GAAqB,CAAtB,EAA2C,CAA9C,GAA4D,EAAE,GAAc,GAAqB,CAAnC,CAAF,CA3D3C,CA6DhC,EAAe,EAAG,CAAC,GAAqB,CAAtB,EAA2C,CAA9C,GAA4D,EAAE,GAAc,GAAqB,CAAnC,CAAF,CA7D3C,EAiErC,CAjEqC,GAkEpC,EAAY,KAAK,WAAL,CAAiB,CAAjB,CAlEwB,CAmE7B,CAnE6B,GAsExC,EAAM,MAAN,CAAqC,EAAtB,EAAC,EAAM,MAAN,EAAgB,CAAjB,EAA2B,CAtEF,CAwEjC,KAAK,QAxE4B,CA4E/C,CA5Qc,CA8Qf,SAAU,aAAyB,CAE/B,GAAmB,WAAhB,KAAM,KAAT,EAEA,GAAI,EAAJ,CACI,EAAW,EAAM,KADrB,CAGmB,MAAhB,KAAM,KALT,EAMI,EAAS,aANb,CAOI,GAAuB,EAAX,EAPhB,EAQ0B,SAAhB,KAAM,KARhB,EASI,EAAS,YATb,CAUI,GAAY,CAVhB,GAYI,EAAS,SAAW,EAAM,KAZ9B,CAaI,GAAY,CAbhB,EAgBA,GAAM,GAAY,GAAI,KAAJ,CAAS,KAAK,QAAd,CAAlB,CAEA,EAAU,CAAV,EAAkB,CAAlB,CAlBA,CAoBA,GAAM,GAAS,KAAK,WAAL,CAAiB,CAAjB,CAAf,CAEG,EAAO,OAAP,KAAqB,KAAK,QAAL,CAAc,OAAd,EAtBxB,GAwBI,KAAK,QAAL,CAAgB,CAxBpB,CA0BI,KAAK,QAAL,EA1BJ,CA4BI,KAAK,QAAL,CAAc,OAAd,CAAsB,QAAtB,CAAgC,KAAK,QAArC,CA5BJ,EA+BH,CA/Sc,CAiTf,QAAS,aAAsB,CAE3B,GAAM,GAAW,KAAK,uBAAL,CAA6B,KAAK,QAAlC,CAA4C,EAAM,KAAlD,CAAjB,CAEM,EAAS,KAAK,mBAAL,CAAyB,CAAzB,CAAgC,CAAhC,CAAuC,CAAvC,CAFf,CAIG,IAAW,KAAK,QANQ,GAOvB,KAAK,QAAL,CAAgB,CAPO,CASvB,KAAK,QAAL,EATuB,CAWvB,KAAK,QAAL,CAAc,OAAd,CAAsB,QAAtB,CAAgC,KAAK,QAArC,CAXuB,CAc9B,CA/Tc,CAqUf,sBAAuB,eAAkC,CAErD,GAAI,KAAJ,CACI,EAAS,CADb,CAIA,GAAe,cAAZ,GAAH,CAA+B,MAAO,EAAP,CAG/B,GAAG,GAAY,CAAf,CAA0B,MAAO,EAAP,CAgB1B,IAAI,GAdE,GAAU,EAAO,IAAP,GAAc,KAAd,CAAoB,YAApB,CAcZ,CAXA,EAAY,EAAS,UAAT,EAWZ,CATA,EAAY,EAAS,cAAT,EASZ,CARA,EAAY,EAAS,WAAT,EAQZ,CANA,EAAY,EAAS,aAAT,EAMZ,CALA,EAAY,EAAS,WAAT,EAKZ,CAJA,EAAY,EAAS,aAAT,EAIZ,CAHA,EAAY,EAAS,OAAT,EAGZ,CAAI,EAAI,CAAZ,CAAe,EAAI,EAAQ,MAA3B,CAAmC,GAAnC,CAAwC,CAEpC,GAAI,GAAa,CAAC,SAAU,KAAX,CAAjB,CACI,IADJ,CAGI,QAHJ,CAKA,OAAO,EAAQ,CAAR,CAAP,EAaI,IAAK,IAAL,CACI,EAAW,IAAX,CAAkB,SADtB,CAEI,EAAO,MAAP,CAAkB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAA5B,EAAwC,MAAxC,CAA+C,CAA/C,CAFtB,CAGI,EAAO,KAAP,CAAkB,CAHtB,CAII,EAAO,KAAP,CAAkB,UAJtB,CAKI,MAEJ,IAAK,MAAL,CACI,EAAgB,CAAC,KAAM,SAAP,CAAkB,SAAU,KAA5B,CADpB,CAEI,EAAO,MAAP,CAAgB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAA5B,EAAwC,MAAxC,CAA+C,CAA/C,CAFpB,CAGI,EAAO,KAAP,CAAgB,CAHpB,CAII,EAAO,KAAP,CAAgB,UAJpB,CAKI,MAEJ,IAAK,GAAL,CACI,EAAW,KAAX,CAAmB,SADvB,CAEI,EAAO,MAAP,CAAmB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAA5B,EAAwC,MAAxC,CAA+C,CAA/C,CAFvB,CAGI,EAAO,KAAP,CAAmB,CAHvB,CAII,EAAO,KAAP,CAAmB,OAJvB,CAKI,MAEJ,IAAK,IAAL,CACI,EAAW,KAAX,CAAmB,OADvB,CAEI,EAAO,MAAP,CAAmB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAA5B,EAAwC,MAAxC,CAA+C,CAA/C,CAFvB,CAGI,EAAO,KAAP,CAAmB,CAHvB,CAII,EAAO,KAAP,CAAmB,OAJvB,CAKI,MAEJ,IAAK,KAAL,CACI,EAAW,KAAX,CAAmB,QADvB,CAEI,EAAO,MAAP,CAAmB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAA5B,EAAwC,MAAxC,CAA+C,CAA/C,CAFvB,CAGI,EAAO,KAAP,CAAmB,CAHvB,CAII,EAAO,KAAP,CAAmB,OAJvB,CAKI,MAEJ,IAAK,MAAL,CACI,EAAW,KAAX,CAAmB,MADvB,CAEI,EAAO,MAAP,CAAmB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAA5B,EAAwC,MAAxC,CAA+C,CAA/C,CAFvB,CAGI,EAAO,KAAP,CAAmB,CAHvB,CAII,EAAO,KAAP,CAAmB,OAJvB,CAKI,MAEJ,IAAK,GAAL,CACI,EAAW,KAAX,CAAmB,MADvB,CAEI,EAAW,GAAX,CAAmB,SAFvB,CAII,EAAO,MAAP,CAAmB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAC3C,IAAO,SADoC,CAE3C,MAAO,MAFoC,CAA5B,EAGhB,MAHgB,CAGT,CAHS,EAGE,MAHF,CAGS,CAHT,CAJvB,CAQI,EAAO,KAAP,CAAmB,CARvB,CASI,EAAO,KAAP,CAAmB,OATvB,CAUI,MAEJ,IAAK,GAAL,CACI,EAAW,GAAX,CAAiB,SADrB,CAEI,EAAO,MAAP,CAAiB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAA5B,EAAwC,MAAxC,CAA+C,CAA/C,CAFrB,CAGI,EAAO,KAAP,CAAiB,CAHrB,CAII,EAAO,KAAP,CAAiB,MAJrB,CAKI,MAEJ,IAAK,IAAL,CACI,EAAW,GAAX,CAAiB,SADrB,CAEI,EAAO,MAAP,CAAiB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAA5B,EAAwC,MAAxC,CAA+C,CAA/C,CAFrB,CAGI,EAAO,KAAP,CAAiB,CAHrB,CAII,EAAO,KAAP,CAAiB,MAJrB,CAKI,MAEJ,IAAK,IAAL,CACI,EAAW,OAAX,CAAqB,OADzB,CAEI,EAAO,MAAP,CAAqB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAA5B,EAAwC,MAAxC,CAA+C,CAA/C,CAFzB,CAGI,EAAO,KAAP,CAAqB,CAHzB,CAII,EAAO,KAAP,CAAqB,SAJzB,CAKI,MAEJ,IAAK,KAAL,CACI,EAAW,OAAX,CAAqB,QADzB,CAEI,EAAO,MAAP,CAAqB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAA5B,EAAwC,MAAxC,CAA+C,CAA/C,CAFzB,CAGI,EAAO,KAAP,CAAqB,CAHzB,CAII,EAAO,KAAP,CAAqB,SAJzB,CAKI,MAEJ,IAAK,MAAL,CACI,EAAW,OAAX,CAAqB,MADzB,CAEI,EAAO,MAAP,CAAqB,KAAK,cAAL,CAAoB,CAApB,CAA4B,CAA5B,EAAwC,MAAxC,CAA+C,CAA/C,CAFzB,CAGI,EAAO,KAAP,CAAqB,CAHzB,CAII,EAAO,KAAP,CAAqB,SAJzB,CAKI,MAGJ,IAAK,GAAL,CACI,EAAO,MAAP,CAAgB,KAAK,YAAL,CAAkB,CAAlB,CAA0B,CAAC,qBAAsB,CAAvB,CAA1B,EAAqD,MAArD,CAA4D,EAAQ,EAApE,CADpB,CAEI,EAAO,KAAP,CAAgB,CAFpB,CAGI,EAAO,KAAP,CAAgB,OAHpB,CAII,MAEJ,IAAK,IAAL,CACI,EAAO,MAAP,CAAgB,KAAK,YAAL,CAAkB,CAAlB,CAA0B,CAAC,qBAAsB,CAAvB,CAA1B,EAAqD,MAArD,CAA4D,EAAQ,EAApE,CADpB,CAEI,EAAO,KAAP,CAAgB,CAFpB,CAGI,EAAO,KAAP,CAAgB,OAHpB,CAII,MAEJ,IAAK,GAAL,CACI,EAAO,MAAP,CAAgB,KAAK,YAAL,CAAkB,CAAlB,CAA0B,CAAC,qBAAsB,CAAvB,CAA1B,EAAqD,MAArD,CAA4D,CAA5D,CADpB,CAEI,EAAO,KAAP,CAAgB,CAFpB,CAGI,EAAO,KAAP,CAAgB,OAHpB,CAII,MAEJ,IAAK,IAAL,CACI,EAAO,MAAP,CAAgB,KAAK,YAAL,CAAkB,CAAlB,CAA0B,CAAC,qBAAsB,CAAvB,CAA1B,EAAqD,MAArD,CAA4D,CAA5D,CADpB,CAEI,EAAO,KAAP,CAAgB,CAFpB,CAGI,EAAO,KAAP,CAAgB,OAHpB,CAII,MAEJ,IAAK,GAAL,CACI,EAAO,MAAP,CAAgB,KAAK,YAAL,CAAkB,CAAlB,CAA0B,CAAC,qBAAsB,CAAvB,CAA1B,EAAqD,MAArD,CAA4D,CAA5D,CADpB,CAEI,EAAO,KAAP,CAAgB,CAFpB,CAGI,EAAO,KAAP,CAAgB,SAHpB,CAII,MAEJ,IAAK,IAAL,CACI,EAAO,MAAP,CAAgB,KAAK,YAAL,CAAkB,CAAlB,CAA0B,CAAC,qBAAsB,CAAvB,CAA1B,EAAqD,MAArD,CAA4D,CAA5D,CADpB,CAEI,EAAO,KAAP,CAAgB,CAFpB,CAGI,EAAO,KAAP,CAAgB,SAHpB,CAII,MAEJ,IAAK,GAAL,CACI,EAAO,MAAP,CAAgB,KAAK,YAAL,CAAkB,CAAlB,CAA0B,CAAC,qBAAsB,CAAvB,CAA1B,EAAqD,MAArD,CAA4D,CAA5D,CADpB,CAEI,EAAO,KAAP,CAAgB,CAFpB,CAGI,EAAO,KAAP,CAAgB,SAHpB,CAII,MAEJ,IAAK,IAAL,CACI,EAAO,MAAP,CAAgB,KAAK,YAAL,CAAkB,CAAlB,CAA0B,CAAC,qBAAsB,CAAvB,CAA1B,EAAqD,MAArD,CAA4D,CAA5D,CADpB,CAEI,EAAO,KAAP,CAAgB,CAFpB,CAGI,EAAO,KAAP,CAAgB,SAHpB,CAII,MAEJ,IAAK,GAAL,CAWI,EAAW,IAAX,CAAoB,SAXxB,CAYI,EAAW,MAAX,GAZJ,CAaI,EAAoB,KAAK,cAAL,CAvKX,EAAS,YAuKE,CAAwB,CAAxB,EAAoC,MAApC,CAA2C,CAA3C,CAbxB,CAeI,EAAO,MAAP,CAAgB,EAAG,KAAH,CAAS,WAAT,EAAsB,CAAtB,CAfpB,CAgBI,EAAO,KAAP,CAAgB,CAhBpB,CAiBI,EAAO,KAAP,CAAgB,MAjBpB,CAmBI,MAGJ,QACI,EAAO,MAAP,CAAgB,EAAQ,CAAR,CADpB,CAEI,EAAO,KAAP,CAAgB,WAFpB,CA7KJ,CAmLA,EAAO,MAAP,CAAgB,EAAO,MAAP,CAAc,MA1LM,CA2LpC,EAAO,MAAP,CAAgB,CA3LoB,CA4LpC,GAAU,EAAO,MA5LmB,CA6LpC,EAAO,IAAP,CAAY,CAAZ,CAEH,CAED,MAAO,EACV,CAhiBc,CAkiBf,UAAW,WAAkB,CAEzB,GAAM,GAAY,EAAS,OAAT,EAAlB,CACM,EAAY,CAAC,EAAY,CAAZ,CAAqB,CAAtB,EAAgC,CADlD,CAEM,EAAY,EAAY,CAF9B,CAII,IAJJ,CAKI,IALJ,CAOM,EAAe,SAAS,KAAK,OAAL,CAAa,OAAtB,CAPrB,CAQM,EAAe,SAAS,KAAK,OAAL,CAAa,OAAtB,CARrB,CASM,EAAe,SAAS,KAAK,OAAL,CAAa,OAAtB,CATrB,CAUM,EAAe,SAAS,KAAK,OAAL,CAAa,OAAtB,CAVrB,CAWM,EAAe,KAAK,OAAL,CAAa,OAAb,CAAuB,KAAK,OAAL,CAAa,OAXzD,CAmCA,MAtBG,IAAa,CAsBhB,GArBI,EAAY,EACN,KAAK,OAAL,CAAa,OAAb,EAAwB,CAAxB,EAAoC,GAAY,KAAK,OAAL,CAAa,OADvD,CAEN,KAAK,OAAL,CAAa,OAAb,EAAwB,CAAxB,EAAoC,GAAY,KAAK,OAAL,CAAa,OAmBvE,EAhBG,GAAa,CAAC,CAgBjB,GAfI,EAAY,GAAc,GAAa,KAAK,OAAL,CAAa,OAexD,EAZG,GAAa,CAAC,CAYjB,GAXI,EAAY,GAAc,GAAa,KAAK,OAAL,CAAa,OAWxD,EARG,GAAa,CAQhB,GAPI,EAAY,GAAc,GAAY,KAAK,OAAL,CAAa,OAOvD,EAJG,GAAa,CAIhB,GAHI,EAAY,GAAc,GAAY,KAAK,OAAL,CAAa,OAGvD,EAAO,GAAa,CAEvB,CAzkBc,CA2kBf,YAAa,WAAkB,CAE3B,GAAG,MAAM,CAAN,CAAH,CAAoB,MAAO,EAAP,CAEpB,GAAM,GAAY,EAAS,OAAT,EAAlB,CAEI,EAAW,CAAC,EAAY,CAAZ,CAAqB,CAAtB,EAAgC,CAF/C,CAGI,EAAW,EAAY,CAH3B,CAMA,GAAG,CAAC,MAAM,KAAK,OAAL,CAAa,OAAnB,CAAD,EAAgC,CAAC,MAAM,KAAK,OAAL,CAAa,OAAnB,CAApC,CAAiE,CAE7D,GAAG,KAAK,OAAL,CAAa,OAAb,CAAuB,KAAK,OAAL,CAAa,OAAvC,CACI,EAAW,KAAK,GAAL,CAAS,KAAK,OAAL,CAAa,OAAtB,CAA+B,KAAK,GAAL,CAAS,KAAK,OAAL,CAAa,OAAtB,CAA+B,CAA/B,CAA/B,CADf,KAEO,CACH,GAAI,GAAe,KAAK,GAAL,CAAS,EAAW,KAAK,OAAL,CAAa,OAAjC,EAA4C,KAAK,GAAL,CAAS,EAAW,KAAK,OAAL,CAAa,OAAjC,CAA5C,CACb,KAAK,OAAL,CAAa,OADA,CAEb,KAAK,OAAL,CAAa,OAFnB,CAGA,EAAmB,EAAW,KAAK,OAAL,CAAa,OAAxB,EAAmC,EAAW,KAAK,OAAL,CAAa,OAA3D,CAAqE,CAArE,CAAgF,CACtG,CAEG,MAAM,KAAK,OAAL,CAAa,OAAnB,CAXyD,GAYzD,EAAW,KAAK,GAAL,CAAS,CAAT,CAAmB,KAAK,OAAL,CAAa,OAAhC,CAZ8C,EAezD,MAAM,KAAK,OAAL,CAAa,OAAnB,CAfyD,GAgBzD,EAAW,KAAK,GAAL,CAAS,CAAT,CAAmB,KAAK,OAAL,CAAa,OAAhC,CAhB8C,CAoBhE,CApBD,IAoBO,CAEH,EAAW,CAFR,CAIH,GAAI,GAAK,MAAM,KAAK,OAAL,CAAa,OAAnB,EAA8B,CAAC,QAA/B,CAA0C,KAAK,OAAL,CAAa,OAAhE,CACI,EAAK,MAAM,KAAK,OAAL,CAAa,OAAnB,EAA8B,QAA9B,CAAyC,KAAK,OAAL,CAAa,OAD/D,CAGA,EAAW,KAAK,GAAL,CAAS,CAAT,CAAa,KAAK,GAAL,CAAS,CAAT,CAAa,CAAb,CAAb,CAPR,CASA,MAAM,CAAN,CATA,GAUC,EAAW,CAVZ,CAYN,CAED,MAAO,IAAI,KAAJ,CAAS,EAAW,CAApB,CAEV,CAznBc,CA2nBf,QAAS,UAAU,CACf,MAAO,MAAK,QACf,CA7nBc,CA+nBf,QAAS,WAAc,CAEnB,KAAK,QAAL,CAAgB,GAAI,KAAJ,CAAS,CAAT,CAFG,CAGnB,KAAK,QAAL,EACH,CAnoBc,CAqoBf,WAAY,WAAiB,CAEzB,KAAK,OAAL,CAAe,OAAO,MAAP,IAAkB,KAAK,OAAvB,CAAgC,CAAhC,CAFU,CAIzB,KAAK,QAAL,CAAgB,EAAQ,cAAR,CAAuB,UAAvB,EAAqC,GAAI,KAAJ,CAAS,EAAQ,QAAjB,CAArC,CAAkE,KAAK,QAJ9D,CAMzB,GAAI,GAAK,GAAI,KAAJ,CAAS,KAAK,OAAL,CAAa,OAAtB,EAA+B,OAA/B,EAAT,CACI,EAAK,GAAI,KAAJ,CAAS,KAAK,OAAL,CAAa,OAAtB,EAA+B,OAA/B,EADT,CAEI,EAAK,GAAI,KAAJ,CAAS,KAAK,OAAL,CAAa,OAAtB,EAA+B,OAA/B,EAFT,CAGI,EAAK,GAAI,KAAJ,CAAS,KAAK,OAAL,CAAa,OAAtB,EAA+B,OAA/B,EAHT,CAMA,KAAK,OAAL,CAAa,OAAb,CAAuB,CAAE,EAAK,CAAL,CAAc,CAAhB,EAA2B,CAZzB,CAazB,KAAK,OAAL,CAAa,OAAb,CAAuB,CAAE,EAAK,CAAL,CAAc,CAAhB,EAA2B,CAbzB,CAczB,KAAK,OAAL,CAAa,OAAb,CAAuB,MAAM,CAAN,EAAY,CAAZ,CAAiB,EAAK,EAAK,CAdzB,CAezB,KAAK,OAAL,CAAa,OAAb,CAAuB,MAAM,CAAN,EAAY,CAAZ,CAAiB,EAAK,EAAK,CAfzB,CAiBrB,MAAM,KAAK,OAAL,CAAa,OAAnB,CAjBqB,GAkBrB,KAAK,OAAL,CAAa,OAAb,CAAuB,MAAM,KAAK,OAAL,CAAa,OAAnB,EAA8B,CAA9B,CAAuC,KAAK,OAAL,CAAa,OAlBtD,EAqBrB,MAAM,KAAK,OAAL,CAAa,OAAnB,CArBqB,GAsBrB,KAAK,OAAL,CAAa,OAAb,CAAuB,MAAM,KAAK,OAAL,CAAa,OAAnB,EAA8B,CAA9B,CAAkC,KAAK,OAAL,CAAa,OAtBjD,EA0BzB,KAAK,QAAL,EAEH,CAjqBc,CAmqBf,QAAS,UAAU,CACf,KAAK,OAAL,CAAa,mBAAb,CAAiC,SAAjC,CAA4C,KAAK,gBAAjD,CADe,CAEf,KAAK,OAAL,CAAa,mBAAb,CAAiC,SAAjC,CAA4C,KAAK,cAAjD,CAFe,CAGf,KAAK,OAAL,CAAa,mBAAb,CAAiC,YAAjC,CAA+C,KAAK,iBAApD,CAHe,CAKf,EAAE,KAAK,OAAP,EAAgB,UAAhB,CAA2B,CAA3B,CACH,CAzqBc,CAlDkB,CAkuBrC,EAAE,EAAF,CAAK,CAAL,EAAmB,aAAyB,CAGxC,GAAG,CAAC,KAAK,IAAL,CAAU,CAAV,CAAJ,OAEyB,QAAlB,QAAO,EAFd,KAGQ,SAAQ,IAAR,CAAa,yDAAb,CAHR,EAOI,KAAK,IAAL,CAAU,CAAV,CAAsB,GAAI,EAAJ,CAAW,IAAX,CAAiB,CAAjB,CAAtB,CAPJ,CASW,IATX,EAaI,GAAI,GAAW,KAAK,IAAL,CAAU,CAAV,CAAf,CAhBoC,MAkBL,UAA5B,QAAO,GAAS,CAAT,CAlB0B,CAuB7B,EAAS,CAAT,EAAiB,CAAjB,CAvB6B,KAmBhC,SAAQ,IAAR,CAAa,SAAb,CAAwB,CAAxB,CAAgC,YAAhC,CASX,CAEJ,CAhwBD,EAgwBG,MAhwBH,CAgwBW,MAhwBX,CAgwBmB,QAhwBnB,C","file":"datetime.stg.js","sourcesContent":["/**\n * Created by Serge Balykov (ua9msn@mail.ru) on 2/1/17.\n */\n\n(function($, window, document, undefined){\n\n    /* eslint-disable no-unused-vars */\n    const KEY_TAB       = 9,\n          KEY_ENTER     = 13,\n          KEY_BACKSPACE = 8,\n          KEY_DELETE    = 46,\n          KEY_ESCAPE    = 27,\n          KEY_SPACE     = 32,\n          KEY_DOWN      = 40,\n          KEY_UP        = 38,\n          KEY_LEFT      = 37,\n          KEY_RIGHT     = 39,\n          KEY_A         = 65,\n          KEY_C         = 67,\n          KEY_V         = 86,\n          KEY_D         = 68,\n          KEY_F2        = 113,\n          KEY_INSERT    = 45;\n    /* eslint-enable no-unused-vars */\n\n    const DAYLEN = 86400000;\n\n    const pluginName = 'datetime',\n          defaults   = {\n              datetime: NaN,\n              locale:   navigator.language,\n              format:   'dd.MM.yyyy HH:mm:ss',\n              minDate:  NaN,\n              maxDate:  NaN,\n              minTime:  NaN,\n              maxTime:  NaN\n          };\n\n    function Plugin(element, options){\n        this.$element          = element;\n        this.element           = element[0];\n        this.currentSpareIndex = 0;\n        this.spares            = [];\n\n        this._handleMouseDown  = this._handleMouseDown.bind(this);\n        this._handleKeydown    = this._handleKeydown.bind(this);\n        this._handleMousewheel = this._handleMousewheel.bind(this);\n\n        this._init();\n        //clone value\n\n        this.setOptions(Object.assign({}, defaults, options));\n    }\n\n    Plugin.prototype = {\n\n        _init: function(){\n\n            this.element.setSelectionRange(0, 0);\n\n            // this.element.addEventListener('select', this.handleSelection.bind(this));\n            this.element.addEventListener('mouseup', this._handleMouseDown);\n            this.element.addEventListener('keydown', this._handleKeydown);\n            this.element.addEventListener('mousewheel', this._handleMousewheel);\n\n        },\n\n        _refresh: function(){\n            this.spares        = this._disassembleTimestamp(this.datetime, this.options.locale, this.options.format);\n            this.element.value = this.spares.map(s => s.strval).join('');\n\n            const spare = this.spares[this.currentSpareIndex];\n            if(spare) {\n                this.element.setSelectionRange(spare.offset, spare.offset + spare.length);\n            }\n        },\n\n        _handleMouseDown: function(e){\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            this._ensureValueExist();\n\n            this.currentSpareIndex = this._calculateSpareIndexAtCaretPosition(e.target.selectionStart, this.spares);\n            const spare            = this.spares[this.currentSpareIndex];\n\n            e.target.focus();\n\n            if(!spare) return;\n\n            e.target.setSelectionRange(spare.offset, spare.offset + spare.length);\n        },\n\n        _ensureValueExist: function(){\n            if(!this.spares.length) {\n                this.datetime = new Date();\n                this._refresh();\n            }\n\n        },\n\n        _handleKeydown: function(e){\n\n            this._ensureValueExist();\n\n            const spare = this.spares[this.currentSpareIndex];\n\n            switch(e.which) {\n\n                case KEY_LEFT:\n                    e.preventDefault();\n                    this.currentSpareIndex = this._calculateNextSpareIndex(this.spares, this.currentSpareIndex, -1, function(x){\n                        return x.field !== 'Delimiter';\n                    });\n                    this._refresh();\n                    break;\n\n                case KEY_RIGHT:\n                    e.preventDefault();\n                    this.currentSpareIndex = this._calculateNextSpareIndex(this.spares, this.currentSpareIndex, 1, function(x){\n                        return x.field !== 'Delimiter';\n                    });\n                    this._refresh();\n                    break;\n\n                case KEY_UP:\n                    e.preventDefault();\n                    this._crement(1, spare);\n                    break;\n\n                case KEY_DOWN:\n                    e.preventDefault();\n                    this._crement(-1, spare);\n                    break;\n\n                case KEY_DELETE:\n                    e.preventDefault();\n                    this.datetime = new Date(NaN);\n                    this._refresh();\n                    break;\n\n                case KEY_A:\n                case KEY_C:\n                    if(!e.ctrlKey) {\n                        e.preventDefault();\n                    }\n                    break;\n\n                default:\n\n                    // ignore non-numbers\n                    if(!isFinite(e.key)) return;\n                    // ignore ampm\n                    if(spare.field === 'AMPM') return;\n                    // ignore Weekday\n                    if(spare.field === 'Weekday') return;\n\n                    this._modify(+e.key, spare);\n\n                    // https://github.com/ua9msn/datetime/issues/2\n                    e.preventDefault();\n\n                    break;\n\n            }\n\n        },\n\n        _handleMousewheel: function(e){\n            e.preventDefault();\n            e.stopPropagation();\n\n            this._ensureValueExist();\n\n            const spare = this.spares[this.currentSpareIndex];\n            const direction = Math.sign(e.wheelDelta);\n\n            this._crement(direction, spare);\n            this._refresh();\n\n        },\n\n        _calculateSpareIndexAtCaretPosition: function(caretPosition, spares){\n\n            let index = 0,\n                s = spares.findIndex( spare => spare.field !== 'Delimiter' );\n\n            for(s; s < spares.length ; s++) {\n\n                if(spares[s].field !== 'Delimiter') {\n                    index = s;\n                }\n\n                if(spares[s].offset >= caretPosition){\n                    break;\n                }\n\n            }\n\n            return index;\n        },\n\n        _calculateNextSpareIndex: function(spares, currentIndex, direction, testFn){\n\n            direction = Math.sign(direction); //make sure the direction is +1 or -1\n            let newIndex = currentIndex ;\n            newIndex = newIndex / 1;\n\n            for(let y = currentIndex + direction ; y >= 0 && y < spares.length ; y += direction ){\n                if( testFn(spares[y]) ) {\n                    newIndex = y;\n                    break;\n                }\n            }\n\n            return newIndex;\n\n        },\n\n        _getMaxFieldValueAtDate: function(date, fieldName){\n\n            const fy = date.getFullYear();\n            const m  = date.getMonth();\n\n            switch(fieldName) {\n                case 'FullYear':\n                    return 9999;\n                case 'Month':\n                    return 12;\n                case 'Date':\n                    return (new Date(fy, m + 1, 0)).getDate(); // get number of days in the month\n                case 'Hours':\n                    return 23;\n                case 'Minutes':\n                    return 59;\n                case 'Seconds':\n                    return 59;\n                default:\n                    break;\n\n            }\n\n\n        },\n\n        _calculateNextValue: function(input, spare, max){\n\n            let prev = spare.buffer || spare.value;\n\n            // in spare month has value as for Date (Jan = 0)\n            // but user input supposed to be 1 for Jan\n            if(spare.field === 'Month') {\n                prev = prev + 1;\n            }\n\n            //append number to the end\n            const x = prev * 10 + input;\n\n            // split to summ of digits\n            const arr = [x % 10000, x % 1000, x % 100, x % 10];\n\n            // calculate closest less value\n            let mm = arr.reduce(function(p, c){\n                return c <= max ? Math.max(p, c) : p;\n            }, 0);\n\n            // rollback month value\n            // but prevent pass 0\n            if(spare.field === 'Month') {\n                mm = mm ? mm - 1 : prev - 1;\n            }\n\n            // Date can not be null.\n            // We allow to enter 0 if it makes valid date (10, 20, 30)\n            if(spare.field === 'Date' && mm === 0) {\n                mm = prev;\n            }\n\n            const fnName = 'setUTC' + spare.field;\n\n            let proxyTime = new Date(this.datetime);\n\n            proxyTime[fnName](mm);\n\n            const isValid = this._validate(proxyTime);\n\n            if(isValid) {\n                return proxyTime;\n            } else {\n\n                let isFieldValid        = true;\n                const maxDateFieldValue = ( new Date(this.options.maxDate) )['getUTC' + spare.field]();\n                const minDateFieldValue = ( new Date(this.options.minDate) )['getUTC' + spare.field]();\n                const minTimeFieldValue = ( new Date(this.options.minTime) )['getUTC' + spare.field]();  //NaN, number\n                const maxTimeFieldValue = ( new Date(this.options.maxTime) )['getUTC' + spare.field]();\n                const thisValue         = proxyTime['getUTC' + spare.field]();\n\n                if(spare.field === 'FullYear' || spare.field === 'Month' || spare.field === 'Date') {\n                    isFieldValid = !(maxDateFieldValue < thisValue) && !(thisValue < minDateFieldValue);\n                }\n\n                if(spare.field === 'Hours' || spare.field === 'Minutes' || spare.field === 'Seconds') {\n\n                    if(maxTimeFieldValue > minTimeFieldValue) {\n                        isFieldValid = !( (maxDateFieldValue || maxTimeFieldValue) < thisValue) && !(thisValue < ( minTimeFieldValue || minDateFieldValue) );\n                    } else {\n                        isFieldValid = !( (maxDateFieldValue || maxTimeFieldValue) > thisValue) && !(thisValue > ( minTimeFieldValue || minDateFieldValue) );\n                    }\n                }\n\n                if(isFieldValid) {\n                    proxyTime = this._fitToLmits(proxyTime);\n                    return proxyTime;\n                }\n\n                spare.buffer = (spare.buffer || 0) * 10 + input;\n\n                return this.datetime;\n\n            }\n\n        },\n\n        _crement: function(operator, spare){\n\n            if(spare.field === 'Delimiter') return;\n\n            let fnName,\n                newValue = spare.value;\n\n            if(spare.field === 'AMPM') {\n                fnName = 'setUTCHours';\n                newValue += operator * 12;\n            } else if(spare.field === 'Weekday') {\n                fnName = 'setUTCDate';\n                newValue += operator;\n            } else {\n                fnName = 'setUTC' + spare.field;\n                newValue += operator;\n            }\n\n            const proxyTime = new Date(this.datetime);\n\n            proxyTime[fnName](newValue);\n\n            const result = this._fitToLmits(proxyTime);\n\n            if(result.getTime() !== this.datetime.getTime()) {\n\n                this.datetime = result;\n\n                this._refresh();\n\n                this.$element.trigger('change', this.datetime);\n            }\n\n        },\n\n        _modify: function(input, spare){\n\n            const maxValue = this._getMaxFieldValueAtDate(this.datetime, spare.field);\n\n            const result = this._calculateNextValue(input, spare, maxValue);\n\n            if(result !== this.datetime) {\n                this.datetime = result;\n\n                this._refresh();\n\n                this.$element.trigger('change', this.datetime);\n\n            }\n        },\n\n        /*\n         * @param timestamp {int}\n         * @return {string}\n         * */\n        _disassembleTimestamp: function(datetime, locale, format){\n\n            let result = [],\n                offset = 0;\n\n            //NaN check\n            if(datetime == 'Invalid Date') return result;\n\n            // undefined and null check\n            if(datetime == undefined) return result;\n\n            const pattern = format.trim().match(/\\w+|\\S|\\s/g);\n\n            const\n                Date      = datetime.getUTCDate(),\n                // Day          = datetime.getUTCDay(),\n                FullYear  = datetime.getUTCFullYear(),\n                Hours     = datetime.getUTCHours(),\n                // Milliseconds = datetime.getUTCMilliseconds(),\n                Minutes   = datetime.getUTCMinutes(),\n                Month     = datetime.getUTCMonth(),\n                Seconds   = datetime.getUTCSeconds(),\n                timestamp = datetime.getTime();\n\n\n            for(let i = 0; i < pattern.length; i++) {\n\n                let intlOption = {timeZone: 'UTC'},\n                    _spare     = {},\n                    _l         = locale + '-u-nu-latn',\n                    _p;\n\n                switch(pattern[i]) {\n\n                    /*\n                     //era is not supported yet\n                     case 'G':\n                     intlOption  = {era: 'short', year: 'numeric', timeZone: 'UTC'};\n                     _spare.strval = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                     _spare.value     = FullYear;\n                     _spare.field = 'FullYear';\n\n                     break;\n                     */\n\n                    case 'yy' :\n                        intlOption.year = '2-digit';\n                        _spare.strval   = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                        _spare.value    = FullYear;\n                        _spare.field    = 'FullYear';\n                        break;\n\n                    case 'yyyy' :\n                        intlOption    = {year: 'numeric', timeZone: 'UTC'};\n                        _spare.strval = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                        _spare.value  = FullYear;\n                        _spare.field  = 'FullYear';\n                        break;\n\n                    case 'M' :\n                        intlOption.month = '2-digit';\n                        _spare.strval    = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                        _spare.value     = Month;\n                        _spare.field     = 'Month';\n                        break;\n\n                    case 'MM' :\n                        intlOption.month = 'short';\n                        _spare.strval    = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                        _spare.value     = Month;\n                        _spare.field     = 'Month';\n                        break;\n\n                    case 'MMM' :\n                        intlOption.month = 'narrow';\n                        _spare.strval    = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                        _spare.value     = Month;\n                        _spare.field     = 'Month';\n                        break;\n\n                    case 'MMMM' :\n                        intlOption.month = 'long';\n                        _spare.strval    = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                        _spare.value     = Month;\n                        _spare.field     = 'Month';\n                        break;\n\n                    case 'L' :\n                        intlOption.month = 'long';\n                        intlOption.day   = '2-digit';\n                        // here we need the correct form of the month name\n                        _spare.strval    = Intl.DateTimeFormat(locale, {\n                            day:   '2-digit',\n                            month: 'long'\n                        }).format(timestamp).substr(3);\n                        _spare.value     = Month;\n                        _spare.field     = 'Month';\n                        break;\n\n                    case 'd' :\n                        intlOption.day = 'numeric';\n                        _spare.strval  = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                        _spare.value   = Date;\n                        _spare.field   = 'Date';\n                        break;\n\n                    case 'dd' :\n                        intlOption.day = '2-digit';\n                        _spare.strval  = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                        _spare.value   = Date;\n                        _spare.field   = 'Date';\n                        break;\n\n                    case 'EE' :\n                        intlOption.weekday = 'short';\n                        _spare.strval      = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                        _spare.value       = Date;\n                        _spare.field       = 'Weekday';\n                        break;\n\n                    case 'EEE' :\n                        intlOption.weekday = 'narrow';\n                        _spare.strval      = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                        _spare.value       = Date;\n                        _spare.field       = 'Weekday';\n                        break;\n\n                    case 'EEEE' :\n                        intlOption.weekday = 'long';\n                        _spare.strval      = Intl.DateTimeFormat(locale, intlOption).format(timestamp);\n                        _spare.value       = Date;\n                        _spare.field       = 'Weekday';\n                        break;\n\n\n                    case 'h':\n                        _spare.strval = Intl.NumberFormat(locale, {minimumIntegerDigits: 1}).format(Hours % 12);\n                        _spare.value  = Hours;\n                        _spare.field  = 'Hours';\n                        break;\n\n                    case 'hh':\n                        _spare.strval = Intl.NumberFormat(locale, {minimumIntegerDigits: 2}).format(Hours % 12);\n                        _spare.value  = Hours;\n                        _spare.field  = 'Hours';\n                        break;\n\n                    case 'H':\n                        _spare.strval = Intl.NumberFormat(locale, {minimumIntegerDigits: 1}).format(Hours);\n                        _spare.value  = Hours;\n                        _spare.field  = 'Hours';\n                        break;\n\n                    case 'HH':\n                        _spare.strval = Intl.NumberFormat(locale, {minimumIntegerDigits: 2}).format(Hours);\n                        _spare.value  = Hours;\n                        _spare.field  = 'Hours';\n                        break;\n\n                    case 'm' :\n                        _spare.strval = Intl.NumberFormat(locale, {minimumIntegerDigits: 1}).format(Minutes);\n                        _spare.value  = Minutes;\n                        _spare.field  = 'Minutes';\n                        break;\n\n                    case 'mm' :\n                        _spare.strval = Intl.NumberFormat(locale, {minimumIntegerDigits: 2}).format(Minutes);\n                        _spare.value  = Minutes;\n                        _spare.field  = 'Minutes';\n                        break;\n\n                    case 's' :\n                        _spare.strval = Intl.NumberFormat(locale, {minimumIntegerDigits: 1}).format(Seconds);\n                        _spare.value  = Seconds;\n                        _spare.field  = 'Seconds';\n                        break;\n\n                    case 'ss' :\n                        _spare.strval = Intl.NumberFormat(locale, {minimumIntegerDigits: 2}).format(Seconds);\n                        _spare.value  = Seconds;\n                        _spare.field  = 'Seconds';\n                        break;\n\n                    case 'a':\n\n                        // very special case\n                        // We do not know AMPM translation for unknown language.\n                        // To detect we ask Intl to translate\n                        // but Intl won't translate it without hours\n                        // Due to non-latin numbers are treated by regexp as letters\n                        // we force locale to use latin numbers and trim them out\n                        // Wzhuh!\n\n\n                        intlOption.hour   = 'numeric';\n                        intlOption.hour12 = true;\n                        _p                = Intl.DateTimeFormat(_l, intlOption).format(timestamp);\n\n                        _spare.strval = _p.match(/[^\\d\\s]+/g)[0];\n                        _spare.value  = Hours;\n                        _spare.field  = 'AMPM';\n\n                        break;\n\n                    // delimeter\n                    default:\n                        _spare.strval = pattern[i];\n                        _spare.field  = 'Delimiter';\n                        break;\n                }\n\n                _spare.length = _spare.strval.length;\n                _spare.offset = offset;\n                offset += _spare.length;\n                result.push(_spare);\n\n            }\n\n            return result;\n        },\n\n        _validate: function(datetime){\n\n            const timestamp = datetime.getTime();\n            const timePart  = (timestamp % DAYLEN + DAYLEN) % DAYLEN;\n            const datePart  = timestamp - timePart;\n\n            let validTime = true,\n                validDate = true;\n\n            const isMaxDate    = isFinite(this.options.maxDate);\n            const isMaxTime    = isFinite(this.options.maxTime);\n            const isMinDate    = isFinite(this.options.minDate);\n            const isMinTime    = isFinite(this.options.minTime);\n            const isNightRange = this.options.minTime > this.options.maxTime;\n\n            if(isMinTime && isMaxTime) {\n                validTime = isNightRange\n                    ? this.options.maxTime >= timePart || timePart >= this.options.minTime\n                    : this.options.maxTime >= timePart && timePart >= this.options.minTime;\n            }\n\n            if(isMinDate && !isMinTime) {\n                validDate = validDate && (timestamp >= this.options.minDate);\n            }\n\n            if(isMaxDate && !isMaxTime) {\n                validDate = validDate && (timestamp <= this.options.maxDate);\n            }\n\n            if(isMinDate && isMinTime) {\n                validDate = validDate && (datePart >= this.options.minDate);\n            }\n\n            if(isMaxDate && isMaxTime) {\n                validDate = validDate && (datePart <= this.options.maxDate);\n            }\n\n            return validDate && validTime;\n\n        },\n\n        _fitToLmits: function(datetime){\n\n            if(isNaN(datetime)) return datetime;\n\n            const timestamp = datetime.getTime();\n\n            let timePart = (timestamp % DAYLEN + DAYLEN) % DAYLEN, //this is trick for negative timestamps\n                datePart = timestamp - timePart;\n\n\n            if(!isNaN(this.options.minTime) && !isNaN(this.options.maxTime)) {\n\n                if(this.options.maxTime > this.options.minTime) {\n                    timePart = Math.max(this.options.minTime, Math.min(this.options.maxTime, timePart));\n                } else {\n                    let nearestLimit = Math.abs(timePart - this.options.maxTime) < Math.abs(timePart - this.options.minTime)\n                        ? this.options.maxTime\n                        : this.options.minTime;\n                    timePart         = timePart > this.options.minTime || timePart < this.options.maxTime ? timePart : nearestLimit;\n                }\n\n                if(!isNaN(this.options.minDate)) {\n                    datePart = Math.max(datePart, this.options.minDate);\n                }\n\n                if(!isNaN(this.options.maxDate)) {\n                    datePart = Math.min(datePart, this.options.maxDate);\n                }\n\n\n            } else {\n\n                timePart = 0;\n\n                let mD = isNaN(this.options.minDate) ? -Infinity : this.options.minDate;\n                let MD = isNaN(this.options.maxDate) ? Infinity : this.options.maxDate;\n\n                datePart = Math.max(mD, Math.min(MD, timestamp));\n\n                if(isNaN(datePart)) {\n                    datePart = timestamp;\n                }\n            }\n\n            return new Date(datePart + timePart);\n\n        },\n\n        getTime: function(){\n            return this.datetime;\n        },\n\n        setTime: function(date){\n\n            this.datetime = new Date(date);\n            this._refresh();\n        },\n\n        setOptions: function(options){\n\n            this.options = Object.assign({}, this.options, options);\n\n            this.datetime = options.hasOwnProperty('datetime') ? new Date(options.datetime) : this.datetime;\n\n            let mD = new Date(this.options.minDate).getTime();\n            let MD = new Date(this.options.maxDate).getTime();\n            let mT = new Date(this.options.minTime).getTime();\n            let MT = new Date(this.options.maxTime).getTime();\n\n\n            this.options.minTime = ( mT % DAYLEN + DAYLEN ) % DAYLEN; // NaN, number [0...86400000 - 1]\n            this.options.maxTime = ( MT % DAYLEN + DAYLEN ) % DAYLEN;\n            this.options.minDate = isNaN(mT) ? mD : mD - mD % DAYLEN;  // NaN, number\n            this.options.maxDate = isNaN(MT) ? MD : MD - MD % DAYLEN;\n\n            if(!isNaN(this.options.minTime)) {\n                this.options.maxTime = isNaN(this.options.maxTime) ? DAYLEN : this.options.maxTime;\n            }\n\n            if(!isNaN(this.options.maxTime)) {\n                this.options.minTime = isNaN(this.options.minTime) ? 0 : this.options.minTime;\n            }\n\n\n            this._refresh();\n\n        },\n\n        destroy: function(){\n            this.element.removeEventListener('mouseup', this._handleMouseDown);\n            this.element.removeEventListener('keydown', this._handleKeydown);\n            this.element.removeEventListener('mousewheel', this._handleMousewheel);\n\n            $(this.element).removeData(pluginName);\n        }\n\n\n    };\n\n    // A really lightweight plugin wrapper around the constructor,\n    // preventing against multiple instantiations\n    $.fn[pluginName] = function(method, options){\n\n        /* eslint-disable no-console */\n        if(!this.data(pluginName)) {\n\n            if(typeof method === 'string') {\n                console.warn('datetime plugin expect options object as first argument');\n                return;\n            }\n\n            this.data(pluginName, new Plugin(this, method));\n\n            return this;\n\n        } else {\n            //calling method\n            let instance = this.data(pluginName);\n\n            if(typeof instance[method] !== 'function') {\n                console.warn('method ', method, ' not exist');\n                return;\n            }\n\n            return instance[method](options);\n\n        }\n        /* eslint-enable no-console */\n\n    };\n\n})(jQuery, window, document);"]}